<div class="container-fluid formula-container annies-paper">
	<form  #f="ngForm" novalidate (ngSubmit)="submit(f)">
		<div class="col-xs-12">
			<h1>Formulas</h1>
		</div>
		<div class="row-fluid">
			<div class="col-md-2">
				<div class="form-group">
					<input class="form-control" type="text"  ngModel placeholder="Formula#"  name="id_code" />
				</div>
			</div>	
			<div class="col-md-10 col-xs-12">
				<div class="form-group">
					<input class="form-control" type="text" ngModel name="name" placeholder="Formula Name" />
				</div>
			</div>
		</div>
		<div class="row-fluid">
			<div class="col-md-2 col-xs-12">
				<div class="form-group">
					<input class="form-control" type="text" ngModel name="revision_no" placeholder="Rev#" />
				</div>
			</div>
		</div>
		<div class="row-fluid">
			<div class="col-xs-12">
				<materials (selectedMaterial)="materialSelected($event)"></materials>
				<div class="row">
					<div class="col-xs-12">
					<h4>Ingredients:</h4>
						<ul class="list-group">
							<li *ngFor="let material of materials; index as i" 
								class="list-group-item" >
								<div class="row">
									<div class="col-md-2">
										<input 
											type="text" 
											class="form-control" 
											[(ngModel)]="materials[i].item_no"
											[ngModelOptions]="{standalone: true}"
											placeholder="Item #" />
									</div>
									<div class="col-md-4">
										<input 
										type="text" 
										class="form-control"  
										[(ngModel)]="materials[i].name"
										[ngModelOptions]="{standalone: true}"
										placeholder="Material..." />
									</div>
									<div class="col-md-2">
										<input 
											type="text" 
											class="form-control"
											[(ngModel)]="materials[i].weight"
											[ngModelOptions]="{standalone: true}"
											placeholder="Amount">
									</div>
									<div class="col-md-2">
										<uom (selectedUom)="uom($event,materials[i])"></uom>
									</div>
									<div class="col-md-2">
										<input 
											type="text" 
											class="form-control material-size"
											name="size"  
											[(ngModel)]="materials[i].size"
											[ngModelOptions]="{standalone: true}"
											placeholder="Size" />

										<span (click)="removeMaterialItem(i)" class="fa fa-close"></span>
									</div>
								</div>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</div>	
		<div class="row-fluid">
			<div class="col-md-12">
				<h4>Mixing</h4> 
			</div>
			<div class="col-xs-12">
				<div class="list-group">
					<div class="list-group-item"  *ngFor="let step of mixings; index as stepIndex last as isLast">
						<instruction 
							(deleteStep)="deleteStep(stepIndex)" 
							(updateStep)="updateStep($event,step)"
							(addStep)="addStep(stepIndex+1)" 
							[step_no] ="stepIndex+1" 
							[isLast]="isLast">
							
							</instruction>
					</div>
				</div>
			</div>

		</div>
		
		<div class="row-fluid">
			<div class="col-xs-12">
				<button type="submit" class="btn btn-primary">submit</button>
			</div>
		</div>
	</form>
</div>
<div class="row">
	<div class="col-md-12">
		<pre>
			{{ f.value | json }}
		</pre>
	</div>
</div>
<div class="formula-footer"></div>































